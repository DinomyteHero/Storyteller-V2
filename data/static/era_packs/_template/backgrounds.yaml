# ============================================================
# backgrounds.yaml -- Character Backgrounds (TEMPLATE)
# ============================================================
#
# PURPOSE:
#   SWTOR-style branching character creation. Each background provides starting
#   stats and a chain of branching questions that set faction alignment, starting
#   location, and the opening story thread.
#
# USED BY:
#   - Architect node: reads starting_stats for character creation
#   - Frontend: renders questions in the character creation UI
#   - Director: reads effects.thread_seed for the opening narrative hook
#
# CONVENTIONS:
#   - Background IDs use snake_case: smuggler, imperial_officer, jedi_exile
#   - Aim for 3-6 backgrounds per era
#   - Each background should have 2 questions with 3 choices each
#   - Choices should cover PARAGON / NEUTRAL / RENEGADE tones
#   - Second questions can be conditional on the first question's tone
#
# GOTCHAS:
#   - Use starting_starship (NOT starship_id) -- ships are earned in-story (V2.10+)
#   - starting_starship should usually be null
#   - condition strings use dot notation: "question_id.tone == TONE_NAME"
#   - location_hint and faction_hint must reference existing IDs
#   - tone values: PARAGON (blue), INVESTIGATE (gold), RENEGADE (red), NEUTRAL (gray)
#   - starting_stats keys: Combat, Stealth, Charisma, Tech, General
#   - consequences values should be quoted strings when numeric: '+10' not +10
# ============================================================

backgrounds:

  # ----------------------------------------------------------
  # BACKGROUND 1: Example background with full branching
  # ----------------------------------------------------------
  - id: wanderer
    name: "Wanderer"

    # description: flavor text shown in the character creation UI
    description: "You drift between worlds, beholden to no one. Your skills are your currency."

    # icon: icon key for the frontend (matched to UI assets)
    icon: "wanderer"

    # starting_stats: initial character stats
    # Keys: Combat, Stealth, Charisma, Tech, General
    # Values typically range from 1-3; total should be around 10
    starting_stats:
      Combat: 2
      Stealth: 2
      Charisma: 2
      Tech: 2
      General: 2

    # starting_starship: ship ID or null (V2.10+: ships earned in-story)
    starting_starship: null

    # starting_reputation: initial faction reputation modifiers
    # Keys are faction IDs, values are reputation deltas
    starting_reputation: {}

    # questions: branching question chain for character creation
    questions:

      # ---- QUESTION 1: Sets faction and starting location ----
      - id: origin
        # title: the question text shown to the player
        title: "What brought you to this corner of the galaxy?"
        # subtitle: helper text below the question
        subtitle: "This determines your starting faction and location"
        # condition: null for the first question (always shown)
        # For follow-up questions, use: "previous_question_id.tone == TONE"
        condition: null

        # choices: available answers (aim for 3, covering different tones)
        choices:

          # PARAGON choice (blue) -- idealistic / heroic
          - label: "I heard people here need help. That's enough reason."
            # concept: internal concept string for the Architect (describes the character)
            concept: "an idealistic wanderer who helps those in need"
            # tone: PARAGON | INVESTIGATE | RENEGADE | NEUTRAL
            tone: PARAGON
            # effects: gameplay effects applied when this choice is selected
            effects:
              # faction_hint: starting faction alignment (must exist in factions.yaml)
              faction_hint: faction_alpha
              # location_hint: starting location (must exist in locations.yaml)
              location_hint: loc-secondary_hub
              # thread_seed: opening narrative hook (shown to the Director for the first scene)
              thread_seed: "A distress signal led you here. Someone in Faction Alpha needs help, and you're the only one who answered."
              # stat_bonus: additional stat modifiers on top of starting_stats
              stat_bonus: {}

          # NEUTRAL choice (gray) -- pragmatic / balanced
          - label: "Credits. Someone posted a job, and I need the work."
            concept: "a pragmatic wanderer following the money"
            tone: NEUTRAL
            effects:
              faction_hint: faction_neutral
              location_hint: loc-main_hub
              thread_seed: "The job posting was vague but the pay was good. Now you're here, and the client hasn't shown up."
              stat_bonus: {}

          # RENEGADE choice (red) -- selfish / ruthless
          - label: "I'm running from something. Don't ask what."
            concept: "a fugitive with a dangerous past"
            tone: RENEGADE
            effects:
              faction_hint: faction_neutral
              location_hint: loc-main_hub
              thread_seed: "You've been moving for weeks. This backwater seemed safe enough to rest -- but someone just recognized your face."
              stat_bonus: {}

      # ---- QUESTION 2: Conditional follow-up (shown only for PARAGON tone) ----
      - id: catalyst_hero
        title: "What drives your need to help others?"
        subtitle: "This shapes your opening arc"
        # condition: only show this question if the player chose PARAGON on the 'origin' question
        condition: "origin.tone == PARAGON"
        choices:
          - label: "I lost someone because nobody helped them. Never again."
            concept: "driven by personal loss to protect others"
            tone: PARAGON
            effects:
              thread_seed: "The people who need you remind you of someone you couldn't save. This time will be different."
          - label: "I believe in something bigger than myself."
            concept: "motivated by ideals and a cause"
            tone: NEUTRAL
            effects:
              thread_seed: "Your cause is clear, but the people here test your convictions daily."

      # ---- QUESTION 2: Conditional follow-up (shown only for RENEGADE tone) ----
      - id: catalyst_runner
        title: "What are you running from?"
        subtitle: "This seeds your opening arc"
        condition: "origin.tone == RENEGADE"
        choices:
          - label: "A debt I can't pay. They'll kill me if they find me."
            concept: "hunted by creditors with a lethal reputation"
            tone: RENEGADE
            effects:
              thread_seed: "Word travels fast. A bounty has been posted with your name on it, and hunters are already asking questions."
          - label: "The law. I did what I had to do."
            concept: "a fugitive from justice with a complicated past"
            tone: NEUTRAL
            effects:
              thread_seed: "An investigator has arrived asking about a case that matches your past. Your cover might not hold."
