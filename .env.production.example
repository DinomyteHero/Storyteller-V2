# ============================================================================
# Storyteller-V2 Production Environment Configuration
# ============================================================================
# Copy to .env and customize. All values below are REQUIRED for production.
# ============================================================================

# ── Security ──────────────────────────────────────────────────────────
# CRITICAL: Dev mode must be OFF in production
STORYTELLER_DEV_MODE=0

# CRITICAL: Set a strong API token (generate with: openssl rand -hex 32)
STORYTELLER_API_TOKEN=CHANGE_ME_TO_A_RANDOM_TOKEN

# CRITICAL: Restrict CORS to your actual frontend domain
STORYTELLER_CORS_ALLOW_ORIGINS=https://your-domain.com

# ── Database ──────────────────────────────────────────────────────────
STORYTELLER_DB_PATH=./data/storyteller.db
VECTORDB_PATH=./data/lancedb

# ── LLM Configuration ────────────────────────────────────────────────
# Default: Ollama (local). For cloud, set per-role provider overrides.
OLLAMA_BASE_URL=http://localhost:11434

# Per-role timeouts (seconds) — shorter = faster fallback to deterministic
STORYTELLER_NARRATOR_TIMEOUT=120
STORYTELLER_DIRECTOR_TIMEOUT=120
STORYTELLER_SUGGESTION_REFINER_TIMEOUT=60

# ── Feature Flags ─────────────────────────────────────────────────────
ENABLE_BIBLE_CASTING=1
ENABLE_PROCEDURAL_NPCS=1
ENABLE_SUGGESTION_REFINER=1
ENABLE_CLOUD_BLUEPRINT=0
ENABLE_SCALE_ADVISOR=0

# ── Data Paths ────────────────────────────────────────────────────────
STORYTELLER_DATA_ROOT=./data
# ERA_PACK_DIR=./data/static/era_packs

# ── Optional: Cloud LLM for campaign init ─────────────────────────────
# Uncomment to use Anthropic for strategic campaign planning:
# STORYTELLER_CAMPAIGN_INIT_PROVIDER=anthropic
# STORYTELLER_CAMPAIGN_INIT_MODEL=claude-sonnet-4-5-20250929
# ANTHROPIC_API_KEY=sk-ant-...
